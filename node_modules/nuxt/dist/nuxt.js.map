{"version":3,"sources":["webpack:///webpack/bootstrap 3e9f78e1d57dd7fb3e8d","webpack:///external \"lodash\"","webpack:///external \"path\"","webpack:///./lib/utils.js","webpack:///external \"babel-runtime/core-js/promise\"","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"co\"","webpack:///external \"fs-extra\"","webpack:///external \"pify\"","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///external \"debug\"","webpack:///external \"webpack\"","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///./lib/build/webpack/base.config.js","webpack:///external \"babel-runtime/core-js/object/assign\"","webpack:///external \"babel-runtime/core-js/object/keys\"","webpack:///external \"babel-runtime/helpers/typeof\"","webpack:///external \"extract-text-webpack-plugin\"","webpack:///./lib/build/index.js","webpack:///./lib/generate.js","webpack:///./lib/render.js","webpack:///./lib/server.js","webpack:///external \"ansi-html\"","webpack:///external \"serialize-javascript\"","webpack:///external \"serve-static\"","webpack:///./lib/build/webpack/client.config.js","webpack:///./lib/build/webpack/server.config.js","webpack:///./lib/build/webpack/vue-loader.config.js","webpack:///./package.json","webpack:///external \"autoprefixer\"","webpack:///external \"babel-runtime/core-js/array/from\"","webpack:///external \"chokidar\"","webpack:///external \"fs\"","webpack:///external \"glob\"","webpack:///external \"hash-sum\"","webpack:///external \"html-minifier\"","webpack:///external \"http\"","webpack:///external \"jsdom\"","webpack:///external \"lru-cache\"","webpack:///external \"memory-fs\"","webpack:///external \"path-to-regexp\"","webpack:///external \"vue-server-renderer\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///./lib/nuxt.js"],"names":["exports","encodeHtml","str","replace","getContext","req","res","setAnsiColors","ansiHTML","setColors","reset","darkgrey","yellow","green","magenta","blue","cyan","red","waitFor","ms","resolve","setTimeout","urlJoin","slice","call","arguments","join","promisifyRouteParams","fn","Array","isArray","length","reject","err","routeParams","promise","vueLoaderConfig","require","defaults","module","nodeModulesDir","__dirname","config","devtool","entry","vendor","output","publicPath","options","router","base","performance","hints","dev","extensions","alias","srcDir","dir","modules","resolveLoader","rules","test","loader","query","exclude","build","babel","plugins","presets","cacheDirectory","concat","loaders","buildFiles","generateRoutesAndFiles","debug","color","_","co","chokidar","fs","hash","pify","webpack","createBundleRenderer","sep","clientWebpackConfig","serverWebpackConfig","remove","readFile","writeFile","mkdirp","glob","reqSep","sysSep","escapeRegExp","normalize","string","wp","p","process","platform","r","args","last","includes","map","apply","filenames","css","app","postcss","defaultsLoaders","limit","name","defaultsPostcss","browsers","extraDefaults","defaultsDeep","serverConfig","getWebpackServerConfig","bundlePath","path","filename","existsSync","bundle","readFileSync","createRenderer","console","error","exit","createWebpackMiddlewares","webpackWatchAndUpdate","watchPages","webpackRunClient","webpackRunServer","layouts","cwd","layoutsFiles","forEach","file","split","files","routes","uniq","templatesFiles","templateVars","uniqBy","isDev","linkActiveClass","env","head","store","appPath","loading","transition","components","Loading","ErrorPage","createRoutes","default","push","moveTemplates","then","fileContent","template","content","keys","route","component","_name","parent","key","i","child","find","children","sort","a","b","isA","isB","cleanChildrenRoutes","isChild","hasIndex","parents","indexOf","getWebpackClientConfig","clientConfig","flatten","HotModuleReplacementPlugin","NoErrorsPlugin","clientCompiler","webpackDevMiddleware","stats","colors","chunks","quiet","noInfo","webpackHotMiddleware","MFS","mfs","serverCompiler","outputPath","outputFileSystem","webpackServerWatcher","watch","toJson","errors","warnings","warn","run","log","toString","cacheConfig","cache","max","maxAge","renderer","renderToString","renderToStream","patterns","ignoreInitial","refreshFiles","debounce","d","Date","now","bind","pagesFilesWatcher","on","pathToRegexp","dirname","minify","copy","s","generate","self","srcStaticPath","srcBuiltPath","distPath","distNuxtPath","resolveRouteParams","toPath","compile","params","splice","renderRoute","_generate","html","collapseBooleanAttributes","collapseWhitespace","decodeEntities","minifyCSS","minifyJS","processConditionalComments","removeAttributeQuotes","removeComments","removeEmptyAttributes","removeOptionalTags","removeRedundantAttributes","removeScriptTypeAttributes","removeStyleLinkTypeAttributes","removeTagWhitespace","sortAttributes","sortClassName","trimCustomFragments","useShortDoctype","pages","nojekyllPath","duration","Math","round","promises","routePath","routeParamsData","catch","e","all","render","context","url","serveStatic","_nuxtRegexp","serveStaticNuxt","statusCode","end","nuxt","setHeader","Buffer","byteLength","errorTemplate","isServer","serverRendered","appTemplate","baseUrl","APP","redirected","jsdom","renderAndGetWindow","virtualConsole","createVirtualConsole","sendTo","features","FetchExternalResources","ProcessExternalResources","done","window","scrollTo","__NUXT__","message","body","document","getElementsByTagName","innerHTML","onNuxtReady","http","Server","server","createServer","port","host","listen","cb","close","ExtractTextPlugin","each","value","DefinePlugin","optimize","CommonsChunkPlugin","allChunks","LoaderOptionsPlugin","minimize","UglifyJsPlugin","compress","extend","isClient","target","libraryTarget","nuxtPackageJson","projectPackageJsonPath","externals","dependencies","projectPackageJson","JSON","parse","babelOptions","preserveWhitespace","extract","scss","fallbackLoader","sass","stylus","less","serialize","Nuxt","_renderer","_build","failedColor","height","mode","rootDir","imports","callback"],"mappings":"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;AAUXC,wBAAoB;AAVT,GAAb;;AAaA,MAAI,CAAC,KAAKtS,GAAV,EAAe;AACb;AACA,QAAM+Q,oBAAoB,mBAAA/R,CAAQ,EAAR,CAA1B;AACAK,WAAO6B,OAAP,CAAeqC,GAAf,GAAqBwN,kBAAkBwB,OAAlB,CAA0B,EAAE9R,QAAQ,YAAV,EAA1B,CAArB;AACApB,WAAO6B,OAAP,CAAesR,IAAf,GAAsBzB,kBAAkBwB,OAAlB,CAA0B,EAAE9R,QAAQ,wBAAV,EAAoCgS,gBAAgB,kBAApD,EAA1B,CAAtB;AACApT,WAAO6B,OAAP,CAAewR,IAAf,GAAsB3B,kBAAkBwB,OAAlB,CAA0B,EAAE9R,QAAQ,uCAAV,EAAmDgS,gBAAgB,kBAAnE,EAA1B,CAAtB;AACApT,WAAO6B,OAAP,CAAeyR,MAAf,GAAwB5B,kBAAkBwB,OAAlB,CAA0B,EAAE9R,QAAQ,0BAAV,EAAsCgS,gBAAgB,kBAAtD,EAA1B,CAAxB;AACApT,WAAO6B,OAAP,CAAe0R,IAAf,GAAsB7B,kBAAkBwB,OAAlB,CAA0B,EAAE9R,QAAQ,wBAAV,EAAoCgS,gBAAgB,kBAApD,EAA1B,CAAtB;AACD;;AAED;AACA,SAAOpT,MAAP;AACD,CApCD,C;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"nuxt.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 44);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3e9f78e1d57dd7fb3e8d","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 1\n// module chunks = 0","'use strict'\n\nexports.encodeHtml = (str) => str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\n\nexports.getContext = function (req, res) {\n  return {\n    req: req,\n    res: res\n  }\n}\n\nexports.setAnsiColors = function (ansiHTML) {\n  ansiHTML.setColors({\n    reset: ['efefef', 'a6004c'],\n    darkgrey: '5a012b',\n    yellow: 'ffab07',\n    green: 'aeefba',\n    magenta: 'ff84bf',\n    blue: '3505a0',\n    cyan: '56eaec',\n    red: '4e053a'\n  })\n}\n\nexports.waitFor = function * (ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, (ms || 0))\n  })\n}\n\nexports.urlJoin = function () {\n  return [].slice.call(arguments).join('/').replace(/\\/+/g, '/')\n}\n\nexports.promisifyRouteParams = function (fn) {\n  // If routeParams[route] is an array\n  if (Array.isArray(fn)) {\n    return Promise.resolve(fn)\n  }\n  // If routeParams[route] is a function expecting a callback\n  if (fn.length === 1) {\n    return new Promise((resolve, reject) => {\n      fn(function (err, routeParams) {\n        if (err) {\n          reject(err)\n        }\n        resolve(routeParams)\n      })\n    })\n  }\n  let promise = fn()\n  if (!(promise instanceof Promise)) {\n    promise = Promise.resolve(promise)\n  }\n  return promise\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils.js","module.exports = require(\"babel-runtime/core-js/promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/promise\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"co\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"co\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"pify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pify\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/json/stringify\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"debug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"debug\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/classCallCheck\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/classCallCheck\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/createClass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/createClass\"\n// module id = 12\n// module chunks = 0","'use strict'\n\nconst vueLoaderConfig = require('./vue-loader.config')\nconst { defaults } = require('lodash')\nconst { join } = require('path')\nconst { urlJoin } = require('../../utils')\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Shared Config\n|\n| This is the config which is extended by the server and client\n| webpack config files\n|--------------------------------------------------------------------------\n*/\nmodule.exports = function () {\n  const nodeModulesDir = join(__dirname, '..', 'node_modules')\n  let config = {\n    devtool: 'source-map',\n    entry: {\n      vendor: ['vue', 'vue-router', 'vue-meta', 'es6-promise', 'es6-object-assign']\n    },\n    output: {\n      publicPath: urlJoin(this.options.router.base, '/_nuxt/')\n    },\n    performance: {\n      hints: (this.dev ? false : 'warning')\n    },\n    resolve: {\n      extensions: ['.js', '.json', '.vue'],\n      // Disable for now\n      alias: {\n        '~': join(this.srcDir),\n        'static': join(this.srcDir, 'static'), // use in template with <img src=\"~static/nuxt.png\" />\n        '~static': join(this.srcDir, 'static'),\n        'assets': join(this.srcDir, 'assets'), // use in template with <img src=\"~static/nuxt.png\" />\n        '~assets': join(this.srcDir, 'assets'),\n        '~plugins': join(this.srcDir, 'plugins'),\n        '~store': join(this.srcDir, 'store'),\n        '~router': join(this.dir, '.nuxt/router'),\n        '~pages': join(this.srcDir, 'pages'),\n        '~components': join(this.srcDir, 'components')\n      },\n      modules: [\n        nodeModulesDir,\n        join(this.dir, 'node_modules')\n      ]\n    },\n    resolveLoader: {\n      modules: [\n        nodeModulesDir,\n        join(this.dir, 'node_modules')\n      ]\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.vue$/,\n          loader: 'vue-loader',\n          query: vueLoaderConfig.call(this)\n        },\n        {\n          test: /\\.js$/,\n          loader: 'babel-loader',\n          exclude: /node_modules/,\n          query: defaults(this.options.build.babel, {\n            plugins: [\n              'transform-async-to-generator',\n              'transform-runtime'\n            ],\n            presets: [\n              ['es2015', { modules: false }],\n              'stage-2'\n            ],\n            cacheDirectory: !!this.dev\n          })\n        }\n      ]\n    },\n    plugins: this.options.build.plugins\n  }\n  // Add nuxt build loaders (can be configured in nuxt.config.js)\n  config.module.rules = config.module.rules.concat(this.options.build.loaders)\n  // Return config\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/build/webpack/base.config.js","module.exports = require(\"babel-runtime/core-js/object/assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/assign\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/keys\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/keys\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/typeof\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/typeof\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"extract-text-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"extract-text-webpack-plugin\"\n// module id = 17\n// module chunks = 0","'use strict'\n\nconst debug = require('debug')('nuxt:build')\ndebug.color = 2 // force green color\nconst _ = require('lodash')\nconst co = require('co')\nconst chokidar = require('chokidar')\nconst fs = require('fs-extra')\nconst hash = require('hash-sum')\nconst pify = require('pify')\nconst webpack = require('webpack')\nconst { createBundleRenderer } = require('vue-server-renderer')\nconst { join, resolve, sep } = require('path')\nconst clientWebpackConfig = require('./webpack/client.config.js')\nconst serverWebpackConfig = require('./webpack/server.config.js')\nconst remove = pify(fs.remove)\nconst readFile = pify(fs.readFile)\nconst writeFile = pify(fs.writeFile)\nconst mkdirp = pify(fs.mkdirp)\nconst glob = pify(require('glob'))\nconst reqSep = /\\//g\nconst sysSep = _.escapeRegExp(sep)\nconst normalize = string => string.replace(reqSep, sysSep)\nconst wp = function (p) {\n  /* istanbul ignore if */\n  if (/^win/.test(process.platform)) {\n    p = p.replace(/\\\\/g, '\\\\\\\\')\n  }\n  return p\n}\nconst r = function () {\n  let args = Array.from(arguments)\n  if (_.last(args).includes('~')) {\n    return wp(_.last(args))\n  }\n  args = args.map(normalize)\n  return wp(resolve.apply(null, args))\n}\n\nconst defaults = {\n  filenames: {\n    css: 'style.css',\n    vendor: 'vendor.bundle.js',\n    app: 'nuxt.bundle.js'\n  },\n  vendor: [],\n  loaders: [],\n  plugins: [],\n  babel: {},\n  postcss: []\n}\nconst defaultsLoaders = [\n  {\n    test: /\\.(png|jpe?g|gif|svg)$/,\n    loader: 'url-loader',\n    query: {\n      limit: 1000, // 1KO\n      name: 'img/[name].[ext]?[hash]'\n    }\n  },\n  {\n    test: /\\.(woff2?|eot|ttf|otf)(\\?.*)?$/,\n    loader: 'url-loader',\n    query: {\n      limit: 1000, // 1 KO\n      name: 'fonts/[name].[hash:7].[ext]'\n    }\n  }\n]\nconst defaultsPostcss = [\n  require('autoprefixer')({\n    browsers: ['last 3 versions']\n  })\n]\n\nexports.options = function () {\n  // Defaults build options\n  let extraDefaults = {}\n  if (this.options.build && !Array.isArray(this.options.build.loaders)) extraDefaults.loaders = defaultsLoaders\n  if (this.options.build && !Array.isArray(this.options.build.postcss)) extraDefaults.postcss = defaultsPostcss\n  this.options.build = _.defaultsDeep(this.options.build, defaults, extraDefaults)\n  // Production, create server-renderer\n  if (!this.dev) {\n    const serverConfig = getWebpackServerConfig.call(this)\n    const bundlePath = join(serverConfig.output.path, serverConfig.output.filename)\n    if (fs.existsSync(bundlePath)) {\n      const bundle = fs.readFileSync(bundlePath, 'utf8')\n      createRenderer.call(this, bundle)\n    }\n  }\n}\n\nexports.build = function * () {\n  // Check if pages dir exists and warn if not\n  if (!fs.existsSync(join(this.srcDir, 'pages'))) {\n    if (fs.existsSync(join(this.srcDir, '..', 'pages'))) {\n      console.error('> No `pages` directory found. Did you mean to run `nuxt` in the parent (`../`) directory?')  // eslint-disable-line no-console\n    } else {\n      console.error('> Couldn\\'t find a `pages` directory. Please create one under the project root') // eslint-disable-line no-console\n    }\n    process.exit(1)\n  }\n  debug(`App root: ${this.srcDir}`)\n  debug('Generating .nuxt/ files...')\n  // Create .nuxt/, .nuxt/components and .nuxt/dist folders\n  yield remove(r(this.dir, '.nuxt'))\n  yield mkdirp(r(this.dir, '.nuxt/components'))\n  if (!this.dev) {\n    yield mkdirp(r(this.dir, '.nuxt/dist'))\n  }\n  // Generate routes and interpret the template files\n  yield generateRoutesAndFiles.call(this)\n  // Generate .nuxt/dist/ files\n  yield buildFiles.call(this)\n  return this\n}\n\nfunction * buildFiles () {\n  if (this.dev) {\n    debug('Adding webpack middlewares...')\n    createWebpackMiddlewares.call(this)\n    webpackWatchAndUpdate.call(this)\n    watchPages.call(this)\n  } else {\n    debug('Building files...')\n    yield [\n      webpackRunClient.call(this),\n      webpackRunServer.call(this)\n    ]\n  }\n}\n\nfunction * generateRoutesAndFiles () {\n  debug('Generating routes...')\n  // Layouts\n  let layouts = {}\n  const layoutsFiles = yield glob('layouts/*.vue', { cwd: this.srcDir })\n  layoutsFiles.forEach((file) => {\n    let name = file.split('/').slice(-1)[0].replace('.vue', '')\n    if (name === 'error') return\n    layouts[name] = r(this.srcDir, file)\n  })\n  // Generate routes based on files\n  const files = yield glob('pages/**/*.vue', { cwd: this.srcDir })\n  this.routes = _.uniq(_.map(files, (file) => {\n    return file.replace(/^pages/, '').replace(/\\.vue$/, '').replace(/\\/index/g, '').replace(/_/g, ':').replace('', '/').replace(/\\/{2,}/g, '/')\n  }))\n  // Interpret and move template files to .nuxt/\n  debug('Generating files...')\n  let templatesFiles = [\n    'App.vue',\n    'client.js',\n    'index.js',\n    'router.js',\n    'server.js',\n    'utils.js',\n    'components/nuxt-loading.vue',\n    'components/nuxt-child.js',\n    'components/nuxt-link.js',\n    'components/nuxt.vue'\n  ]\n  let templateVars = {\n    uniqBy: _.uniqBy,\n    isDev: this.dev,\n    router: {\n      base: this.options.router.base,\n      linkActiveClass: this.options.router.linkActiveClass\n    },\n    env: this.options.env,\n    head: this.options.head,\n    store: this.options.store,\n    css: this.options.css,\n    plugins: this.options.plugins.map((p) => r(this.srcDir, p)),\n    appPath: './App.vue',\n    layouts: layouts,\n    loading: (typeof this.options.loading === 'string' ? r(this.srcDir, this.options.loading) : this.options.loading),\n    transition: this.options.transition,\n    components: {\n      Loading: r(__dirname, 'app', 'components', 'nuxt-loading.vue'),\n      ErrorPage: r(__dirname, 'app', 'components', 'nuxt-error.vue')\n    }\n  }\n  // Format routes for the lib/app/router.js template\n  templateVars.router.routes = createRoutes(files, this.srcDir)\n  if (layoutsFiles.includes('layouts/error.vue')) {\n    templateVars.components.ErrorPage = r(this.srcDir, 'layouts/error.vue')\n  }\n  // If no default layout, create its folder and add the default folder\n  if (!layouts.default) {\n    yield mkdirp(r(this.dir, '.nuxt/layouts'))\n    templatesFiles.push('layouts/default.vue')\n    layouts.default = r(__dirname, 'app', 'layouts', 'default.vue')\n  }\n  let moveTemplates = templatesFiles.map((file) => {\n    return readFile(r(__dirname, 'app', file), 'utf8')\n    .then((fileContent) => {\n      const template = _.template(fileContent)\n      const content = template(templateVars)\n      return writeFile(r(this.dir, '.nuxt', file), content, 'utf8')\n    })\n  })\n  yield moveTemplates\n}\n\nfunction createRoutes (files, srcDir) {\n  let routes = []\n  files.forEach((file) => {\n    let keys = file.replace(/^pages/, '').replace(/\\.vue$/, '').replace(/\\/{2,}/g, '/').split('/').slice(1)\n    let route = { name: '', path: '', component: r(srcDir, file), _name: null }\n    let parent = routes\n    keys.forEach((key, i) => {\n      route.name = route.name ? route.name + '-' + key.replace('_', '') : key.replace('_', '')\n      let child = _.find(parent, { name: route.name })\n      if (child) {\n        if (!child.children) {\n          child.children = []\n        }\n        parent = child.children\n        route.path = ''\n      } else {\n        if (key === 'index' && (i + 1) === keys.length) {\n          route.path += (i > 0 ? '' : '/')\n        } else {\n          route.path += '/' + key.replace('_', ':')\n          if (key.includes('_')) {\n            route.path += '?'\n          }\n        }\n      }\n    })\n    route._name = '_' + hash(route.component)\n    // Order Routes path\n    parent.push(route)\n    parent.sort((a, b) => {\n      var isA = (a.path[0] === ':' || a.path[1] === ':') ? 1 : 0\n      var isB = (b.path[0] === ':' || b.path[1] === ':') ? 1 : 0\n      return (isA - isB === 0) ? a.path.length - b.path.length : isA - isB\n    })\n  })\n  return cleanChildrenRoutes(routes)\n}\n\nfunction cleanChildrenRoutes (routes, isChild = false) {\n  let hasIndex = false\n  let parents = []\n  routes.forEach((route) => {\n    route.path = (isChild) ? route.path.replace('/', '') : route.path\n    if ((isChild && /-index$/.test(route.name)) || (!isChild && route.name === 'index')) {\n      hasIndex = true\n    }\n    route.path = (hasIndex) ? route.path.replace('?', '') : route.path\n    if (/-index$/.test(route.name)) {\n      parents.push(route.name)\n    } else {\n      if (parents.indexOf(route.name.split('-').slice(0, -1).join('-') + '-index') > -1) {\n        route.path = route.path.replace('?', '')\n      }\n    }\n    route.name = route.name.replace(/-index$/, '')\n    if (route.children) {\n      delete route.name\n      route.children = cleanChildrenRoutes(route.children, true)\n    }\n  })\n  return routes\n}\n\nfunction getWebpackClientConfig () {\n  return clientWebpackConfig.call(this)\n}\n\nfunction getWebpackServerConfig () {\n  return serverWebpackConfig.call(this)\n}\n\nfunction createWebpackMiddlewares () {\n  const clientConfig = getWebpackClientConfig.call(this)\n  // setup on the fly compilation + hot-reload\n  clientConfig.entry.app = _.flatten(['webpack-hot-middleware/client?reload=true', clientConfig.entry.app])\n  clientConfig.plugins.push(\n    new webpack.HotModuleReplacementPlugin(),\n    new webpack.NoErrorsPlugin()\n  )\n  const clientCompiler = webpack(clientConfig)\n  // Add the middlewares to the instance context\n  this.webpackDevMiddleware = pify(require('webpack-dev-middleware')(clientCompiler, {\n    publicPath: clientConfig.output.publicPath,\n    stats: {\n      colors: true,\n      chunks: false\n    },\n    quiet: false,\n    noInfo: true\n  }))\n  this.webpackHotMiddleware = pify(require('webpack-hot-middleware')(clientCompiler))\n}\n\nfunction webpackWatchAndUpdate () {\n  const MFS = require('memory-fs') // <- dependencies of webpack\n  const mfs = new MFS()\n  const serverConfig = getWebpackServerConfig.call(this)\n  const serverCompiler = webpack(serverConfig)\n  const outputPath = join(serverConfig.output.path, serverConfig.output.filename)\n  serverCompiler.outputFileSystem = mfs\n  this.webpackServerWatcher = serverCompiler.watch({}, (err, stats) => {\n    if (err) throw err\n    stats = stats.toJson()\n    stats.errors.forEach(err => console.error(err)) // eslint-disable-line no-console\n    stats.warnings.forEach(err => console.warn(err)) // eslint-disable-line no-console\n    createRenderer.call(this, mfs.readFileSync(outputPath, 'utf-8'))\n  })\n}\n\nfunction webpackRunClient () {\n  return new Promise((resolve, reject) => {\n    const clientConfig = getWebpackClientConfig.call(this)\n    const serverCompiler = webpack(clientConfig)\n    serverCompiler.run((err, stats) => {\n      if (err) return reject(err)\n      console.log('[nuxt:build:client]\\n', stats.toString({ chunks: false, colors: true })) // eslint-disable-line no-console\n      resolve()\n    })\n  })\n}\n\nfunction webpackRunServer () {\n  return new Promise((resolve, reject) => {\n    const serverConfig = getWebpackServerConfig.call(this)\n    const serverCompiler = webpack(serverConfig)\n    serverCompiler.run((err, stats) => {\n      if (err) return reject(err)\n      console.log('[nuxt:build:server]\\n', stats.toString({ chunks: false, colors: true })) // eslint-disable-line no-console\n      const bundlePath = join(serverConfig.output.path, serverConfig.output.filename)\n      readFile(bundlePath, 'utf8')\n      .then((bundle) => {\n        createRenderer.call(this, bundle)\n        resolve()\n      })\n    })\n  })\n}\n\nfunction createRenderer (bundle) {\n  // Create bundle renderer to give a fresh context for every request\n  let cacheConfig = false\n  if (this.options.cache) {\n    this.options.cache = (typeof this.options.cache !== 'object' ? {} : this.options.cache)\n    cacheConfig = require('lru-cache')(_.defaults(this.options.cache, {\n      max: 1000,\n      maxAge: 1000 * 60 * 15\n    }))\n  }\n  this.renderer = createBundleRenderer(bundle, {\n    cache: cacheConfig\n  })\n  this.renderToString = pify(this.renderer.renderToString)\n  this.renderToStream = this.renderer.renderToStream\n}\n\nfunction watchPages () {\n  const patterns = [\n    r(this.srcDir, 'pages'),\n    r(this.srcDir, 'pages/*.vue'),\n    r(this.srcDir, 'pages/**/*.vue'),\n    r(this.srcDir, 'layouts'),\n    r(this.srcDir, 'layouts/*.vue'),\n    r(this.srcDir, 'layouts/**/*.vue')\n  ]\n  const options = {\n    ignoreInitial: true\n  }\n  /* istanbul ignore next */\n  const refreshFiles = _.debounce(() => {\n    var d = Date.now()\n    co(generateRoutesAndFiles.bind(this))\n    .then(() => {\n      console.log('Time to gen:' + (Date.now() - d) + 'ms') // eslint-disable-line no-console\n    })\n  }, 200)\n  this.pagesFilesWatcher = chokidar.watch(patterns, options)\n  .on('add', refreshFiles)\n  .on('unlink', refreshFiles)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/build/index.js","'use strict'\n\nconst debug = require('debug')('nuxt:generate')\nconst fs = require('fs-extra')\nconst co = require('co')\nconst pify = require('pify')\nconst pathToRegexp = require('path-to-regexp')\nconst _ = require('lodash')\nconst { resolve, join, dirname, sep } = require('path')\nconst { promisifyRouteParams } = require('./utils')\nconst { minify } = require('html-minifier')\nconst copy = pify(fs.copy)\nconst remove = pify(fs.remove)\nconst writeFile = pify(fs.writeFile)\nconst mkdirp = pify(fs.mkdirp)\n\nconst defaults = {\n  dir: 'dist',\n  routeParams: {}\n}\n\nmodule.exports = function () {\n  const s = Date.now()\n  /*\n  ** Update loaders config to add router.base path\n  */\n  // this.options.build.loaders.forEach((config) => {\n  //   if (['file', 'url', 'file-loader', 'url-loader'].includes(config.loader)) {\n  //     config.query = config.query || {}\n  //     config.query.publicPath = urlJoin(this.options.router.base, '/_nuxt/')\n  //   }\n  // })\n  /*\n  ** Set variables\n  */\n  this.options.generate = _.defaultsDeep(this.options.generate, defaults)\n  var self = this\n  var srcStaticPath = resolve(this.srcDir, 'static')\n  var srcBuiltPath = resolve(this.dir, '.nuxt', 'dist')\n  var distPath = resolve(this.dir, this.options.generate.dir)\n  var distNuxtPath = resolve(distPath, '_nuxt')\n  return co(function * () {\n    /*\n    ** Launch build process\n    */\n    yield self.build()\n    /*\n    ** Clean destination folder\n    */\n    try {\n      yield remove(distPath)\n      debug('Destination folder cleaned')\n    } catch (e) {}\n    /*\n    ** Copy static and built files\n    */\n    if (fs.existsSync(srcStaticPath)) {\n      yield copy(srcStaticPath, distPath)\n    }\n    yield copy(srcBuiltPath, distNuxtPath)\n    debug('Static & build files copied')\n  })\n  .then(() => {\n    // Resolve config.generate.routesParams promises before generating the routes\n    return resolveRouteParams(this.options.generate.routeParams)\n  })\n  .then(() => {\n    /*\n    ** Generate html files from routes\n    */\n    let routes = []\n    this.routes.forEach((route) => {\n      if (route.includes(':') || route.includes('*')) {\n        const routeParams = this.options.generate.routeParams[route]\n        if (!routeParams) {\n          console.error(`Could not generate the dynamic route ${route}, please add the mapping params in nuxt.config.js (generate.routeParams).`) // eslint-disable-line no-console\n          return process.exit(1)\n        }\n        const toPath = pathToRegexp.compile(route)\n        routes = routes.concat(routeParams.map((params) => {\n          return toPath(params)\n        }))\n      } else {\n        routes.push(route)\n      }\n    })\n    return co(function * () {\n      while (routes.length) {\n        yield routes.splice(0, 500).map((route) => {\n          return co(function * () {\n            var { html } = yield self.renderRoute(route, { _generate: true })\n            html = minify(html, {\n              collapseBooleanAttributes: true,\n              collapseWhitespace: true,\n              decodeEntities: true,\n              minifyCSS: true,\n              minifyJS: true,\n              processConditionalComments: true,\n              removeAttributeQuotes: false,\n              removeComments: false,\n              removeEmptyAttributes: true,\n              removeOptionalTags: true,\n              removeRedundantAttributes: true,\n              removeScriptTypeAttributes: true,\n              removeStyleLinkTypeAttributes: true,\n              removeTagWhitespace: true,\n              sortAttributes: true,\n              sortClassName: true,\n              trimCustomFragments: true,\n              useShortDoctype: true\n            })\n            var path = join(route, sep, 'index.html') // /about -> /about/index.html\n            debug('Generate file: ' + path)\n            path = join(distPath, path)\n            // Make sure the sub folders are created\n            yield mkdirp(dirname(path))\n            yield writeFile(path, html, 'utf8')\n          })\n        })\n      }\n    })\n  })\n  .then((pages) => {\n    // Add .nojekyll file to let Github Pages add the _nuxt/ folder\n    // https://help.github.com/articles/files-that-start-with-an-underscore-are-missing/\n    const nojekyllPath = resolve(distPath, '.nojekyll')\n    return writeFile(nojekyllPath, '')\n  })\n  .then(() => {\n    const duration = Math.round((Date.now() - s) / 100) / 10\n    debug(`HTML Files generated in ${duration}s`)\n    return this\n  })\n}\n\nfunction resolveRouteParams (routeParams) {\n  let promises = []\n  Object.keys(routeParams).forEach(function (routePath) {\n    let promise = promisifyRouteParams(routeParams[routePath])\n    promise.then((routeParamsData) => {\n      routeParams[routePath] = routeParamsData\n    })\n    .catch((e) => {\n      console.error(`Could not resolve routeParams[${routePath}]`) // eslint-disable-line no-console\n      console.error(e) // eslint-disable-line no-console\n      process.exit(1)\n    })\n    promises.push(promise)\n  })\n  return Promise.all(promises)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/generate.js","const debug = require('debug')('nuxt:render')\ndebug.color = 4 // force blue color\nconst co = require('co')\nconst { urlJoin } = require('./utils')\nconst { getContext } = require('./utils')\n\nexports.render = function (req, res) {\n  if (!this.renderer && !this.dev) {\n    console.error('> No build files found, please run `nuxt build` before launching `nuxt start`') // eslint-disable-line no-console\n    process.exit(1)\n  }\n  /* istanbul ignore if */\n  if (!this.renderer) {\n    setTimeout(() => {\n      this.render(req, res)\n    }, 1000)\n    return\n  }\n  const self = this\n  const context = getContext(req, res)\n  co(function * () {\n    if (self.dev) {\n      // Call webpack middlewares only in development\n      yield self.webpackDevMiddleware(req, res)\n      yield self.webpackHotMiddleware(req, res)\n    }\n    // If base in req.url, remove it for the middlewares and vue-router\n    if (self.options.router.base !== '/' && req.url.indexOf(self.options.router.base) === 0) {\n      // Compatibility with base url for dev server\n      req.url = req.url.replace(self.options.router.base, '/')\n    }\n    // Serve static/ files\n    yield self.serveStatic(req, res)\n    // Serve .nuxt/dist/ files (only for production)\n    if (!self.dev && self._nuxtRegexp.test(req.url)) {\n      const url = req.url\n      req.url = req.url.replace(self._nuxtRegexp, '/')\n      yield self.serveStaticNuxt(req, res)\n      /* istanbul ignore next */\n      req.url = url\n    }\n  })\n  .then(() => {\n    /* istanbul ignore if */\n    if (this.dev && this._nuxtRegexp.test(req.url) && req.url.includes('.hot-update.json')) {\n      res.statusCode = 404\n      return res.end()\n    }\n    return this.renderRoute(req.url, context)\n  })\n  .then(({ html, error }) => {\n    if (error) {\n      res.statusCode = context.nuxt.error.statusCode || 500\n    }\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(html))\n    res.end(html, 'utf8')\n  })\n  .catch((err) => {\n    res.statusCode = 500\n    res.end(this.errorTemplate({ err }), 'utf8')\n  })\n}\n\nexports.renderRoute = function (url, context = {}) {\n  debug(`Rendering url ${url}`)\n  // Add url and isSever to the context\n  context.url = url\n  context.isServer = true\n  // Call rendertoSting from the bundleRenderer and generate the HTML (will update the context as well)\n  const self = this\n  return co(function * () {\n    let app = yield self.renderToString(context)\n    if (!context.nuxt.serverRendered) {\n      app = '<div id=\"__nuxt\"></div>'\n    }\n    const html = self.appTemplate({\n      dev: self.dev, // Use to add the extracted CSS <link> in production\n      baseUrl: self.options.router.base,\n      APP: app,\n      context: context,\n      files: {\n        css: urlJoin(self.options.router.base, '/_nuxt/', self.options.build.filenames.css),\n        vendor: urlJoin(self.options.router.base, '/_nuxt/', self.options.build.filenames.vendor),\n        app: urlJoin(self.options.router.base, '/_nuxt/', self.options.build.filenames.app)\n      }\n    })\n    return {\n      html,\n      error: context.nuxt.error,\n      redirected: context.redirected\n    }\n  })\n}\n\n// Function used to do dom checking via jsdom\nlet jsdom = null\nexports.renderAndGetWindow = function renderAndGetWindow (url) {\n  /* istanbul ignore if */\n  if (!jsdom) {\n    try {\n      jsdom = require('jsdom')\n    } catch (e) {\n      console.error('Fail when calling nuxt.renderAndGetWindow(url)') // eslint-disable-line no-console\n      console.error('jsdom module is not installed') // eslint-disable-line no-console\n      console.error('Please install jsdom with: npm install --save-dev jsdom') // eslint-disable-line no-console\n      process.exit(1)\n    }\n  }\n  const virtualConsole = jsdom.createVirtualConsole().sendTo(console)\n  url = url || 'http://localhost:3000'\n  return new Promise((resolve, reject) => {\n    jsdom.env({\n      url: url,\n      features: {\n        FetchExternalResources: ['script', 'link'],\n        ProcessExternalResources: ['script']\n      },\n      virtualConsole,\n      done (err, window) {\n        if (err) return reject(err)\n        // Mock window.scrollTo\n        window.scrollTo = function () {}\n        // If Nuxt could not be loaded (error from the server-side)\n        if (!window.__NUXT__) {\n          return reject({\n            message: 'Could not load the nuxt app',\n            body: window.document.getElementsByTagName('body')[0].innerHTML\n          })\n        }\n        // Used by nuxt.js to say when the components are loaded and the app ready\n        window.onNuxtReady(() => {\n          resolve(window)\n        })\n      }\n    })\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/render.js","'use strict'\n\nconst http = require('http')\n\nclass Server {\n\n  constructor (nuxt) {\n    this.nuxt = nuxt\n    this.server = http.createServer(this.render.bind(this))\n    return this\n  }\n\n  render (req, res) {\n    this.nuxt.render(req, res)\n    return this\n  }\n\n  listen (port, host) {\n    host = host || 'localhost'\n    port = port || 3000\n    this.server.listen(port, host, () => {\n      console.log('Ready on http://%s:%s', host, port) // eslint-disable-line no-console\n    })\n    return this\n  }\n\n  close (cb) {\n    return this.server.close(cb)\n  }\n\n}\n\nmodule.exports = Server\n\n\n\n// WEBPACK FOOTER //\n// ./lib/server.js","module.exports = require(\"ansi-html\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ansi-html\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"serialize-javascript\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serialize-javascript\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"serve-static\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-static\"\n// module id = 24\n// module chunks = 0","'use strict'\n\nconst _ = require('lodash')\nconst webpack = require('webpack')\nconst ExtractTextPlugin = require('extract-text-webpack-plugin')\nconst base = require('./base.config.js')\nconst { resolve } = require('path')\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Client Config\n|\n| Generate public/dist/client-vendor-bundle.js\n| Generate public/dist/client-bundle.js\n|\n| In production, will generate public/dist/style.css\n|--------------------------------------------------------------------------\n*/\nmodule.exports = function () {\n  let config = base.call(this)\n\n  // Entry\n  config.entry.app = resolve(this.dir, '.nuxt', 'client.js')\n\n  // Add vendors\n  if (this.options.store) {\n    config.entry.vendor.push('vuex')\n  }\n  config.entry.vendor = config.entry.vendor.concat(this.options.build.vendor)\n\n  // Output\n  config.output.path = resolve(this.dir, '.nuxt', 'dist')\n  config.output.filename = this.options.build.filenames.app\n\n  // env object defined in nuxt.config.js\n  let env = {}\n  _.each(this.options.env, (value, key) => {\n    env['process.env.' + key] = (typeof value === 'string' ? JSON.stringify(value) : value)\n  })\n  // Webpack plugins\n  config.plugins = (config.plugins || []).concat([\n    // strip comments in Vue code\n    new webpack.DefinePlugin(Object.assign(env, {\n      'process.env.NODE_ENV': JSON.stringify(this.dev ? 'development' : 'production'),\n      'process.BROWSER_BUILD': true,\n      'process.SERVER_BUILD': false\n    })),\n    // Extract vendor chunks for better caching\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'vendor',\n      filename: this.options.build.filenames.vendor\n    })\n  ])\n\n  // Production client build\n  if (!this.dev) {\n    config.plugins.push(\n      // Use ExtractTextPlugin to extract CSS into a single file\n      new ExtractTextPlugin({\n        filename: this.options.build.filenames.css,\n        allChunks: true\n      }),\n      // This is needed in webpack 2 for minifying CSS\n      new webpack.LoaderOptionsPlugin({\n        minimize: true\n      }),\n      // Minify JS\n      new webpack.optimize.UglifyJsPlugin({\n        compress: {\n          warnings: false\n        }\n      })\n    )\n  }\n  // Extend config\n  if (typeof this.options.build.extend === 'function') {\n    this.options.build.extend(config, {\n      dev: this.dev,\n      isClient: true\n    })\n  }\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/build/webpack/client.config.js","'use strict'\n\nconst _ = require('lodash')\nconst webpack = require('webpack')\nconst base = require('./base.config.js')\nconst { uniq } = require('lodash')\nconst { existsSync, readFileSync } = require('fs')\nconst { resolve } = require('path')\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Server Config\n|--------------------------------------------------------------------------\n*/\nmodule.exports = function () {\n  let config = base.call(this)\n\n  // env object defined in nuxt.config.js\n  let env = {}\n  _.each(this.options.env, (value, key) => {\n    env['process.env.' + key] = (typeof value === 'string' ? JSON.stringify(value) : value)\n  })\n\n  config = Object.assign(config, {\n    target: 'node',\n    devtool: false,\n    entry: resolve(this.dir, '.nuxt', 'server.js'),\n    output: Object.assign({}, config.output, {\n      path: resolve(this.dir, '.nuxt', 'dist'),\n      filename: 'server-bundle.js',\n      libraryTarget: 'commonjs2'\n    }),\n    plugins: (config.plugins || []).concat([\n      new webpack.DefinePlugin(Object.assign(env, {\n        'process.env.NODE_ENV': JSON.stringify(this.dev ? 'development' : 'production'),\n        'process.BROWSER_BUILD': false,\n        'process.SERVER_BUILD': true\n      }))\n    ])\n  })\n\n  // Externals\n  const nuxtPackageJson = require('../../../package.json')\n  const projectPackageJsonPath = resolve(this.dir, 'package.json')\n  config.externals = Object.keys(nuxtPackageJson.dependencies || {})\n  if (existsSync(projectPackageJsonPath)) {\n    try {\n      const projectPackageJson = JSON.parse(readFileSync(projectPackageJsonPath))\n      config.externals = config.externals.concat(Object.keys(projectPackageJson.dependencies || {}))\n    } catch (e) {}\n  }\n  config.externals = uniq(config.externals)\n\n  // Extend config\n  if (typeof this.options.build.extend === 'function') {\n    this.options.build.extend(config, {\n      dev: this.dev,\n      isServer: true\n    })\n  }\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/build/webpack/server.config.js","'use strict'\n\nconst { defaults } = require('lodash')\n\nmodule.exports = function () {\n  let babelOptions = JSON.stringify(defaults(this.options.build.babel, {\n    plugins: [\n      'transform-async-to-generator',\n      'transform-runtime'\n    ],\n    presets: [\n      ['es2015', { modules: false }],\n      'stage-2'\n    ]\n  }))\n  let config = {\n    postcss: this.options.build.postcss,\n    loaders: {\n      'js': 'babel-loader?' + babelOptions,\n      'less': 'vue-style-loader!css-loader!less-loader',\n      'sass': 'vue-style-loader!css-loader!sass-loader?indentedSyntax',\n      'scss': 'vue-style-loader!css-loader!sass-loader',\n      'stylus': 'vue-style-loader!css-loader!stylus-loader',\n      'styl': 'vue-style-loader!css-loader!stylus-loader'\n    },\n    preserveWhitespace: false\n  }\n\n  if (!this.dev) {\n    // Use ExtractTextPlugin to extract CSS into a single file\n    const ExtractTextPlugin = require('extract-text-webpack-plugin')\n    config.loaders.css = ExtractTextPlugin.extract({ loader: 'css-loader' })\n    config.loaders.scss = ExtractTextPlugin.extract({ loader: 'css-loader!sass-loader', fallbackLoader: 'vue-style-loader' })\n    config.loaders.sass = ExtractTextPlugin.extract({ loader: 'css-loader!sass-loader?indentedSyntax', fallbackLoader: 'vue-style-loader' })\n    config.loaders.stylus = ExtractTextPlugin.extract({ loader: 'css-loader!stylus-loader', fallbackLoader: 'vue-style-loader' })\n    config.loaders.less = ExtractTextPlugin.extract({ loader: 'css-loader!less-loader', fallbackLoader: 'vue-style-loader' })\n  }\n\n  // Return the config\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/build/webpack/vue-loader.config.js","module.exports = {\n\t\"name\": \"nuxt\",\n\t\"version\": \"0.9.5\",\n\t\"description\": \"A minimalistic framework for server-rendered Vue.js applications (inspired by Next.js)\",\n\t\"contributors\": [\n\t\t{\n\t\t\t\"name\": \"Sebastien Chopin\"\n\t\t},\n\t\t{\n\t\t\t\"name\": \"Alexandre Chopin\"\n\t\t}\n\t],\n\t\"main\": \"./dist/nuxt.js\",\n\t\"license\": \"MIT\",\n\t\"repository\": {\n\t\t\"type\": \"git\",\n\t\t\"url\": \"git+https://github.com/nuxt/nuxt.js\"\n\t},\n\t\"files\": [\n\t\t\"bin\",\n\t\t\"dist\"\n\t],\n\t\"keywords\": [\n\t\t\"nuxt\",\n\t\t\"nuxt.js\",\n\t\t\"nuxtjs\",\n\t\t\"vue\",\n\t\t\"vue.js\",\n\t\t\"vuejs\",\n\t\t\"next.js\",\n\t\t\"vue ssr\"\n\t],\n\t\"homepage\": \"https://github.com/nuxt/nuxt.js#readme\",\n\t\"bin\": {\n\t\t\"nuxt\": \"./bin/nuxt\"\n\t},\n\t\"scripts\": {\n\t\t\"test\": \"nyc ava --serial test/\",\n\t\t\"coverage\": \"nyc report --reporter=text-lcov > coverage.lcov && codecov\",\n\t\t\"lint\": \"eslint --ext .js,.vue bin lib pages test/*.js --ignore-pattern lib/app\",\n\t\t\"build\": \"webpack\",\n\t\t\"watch\": \"webpack --watch\",\n\t\t\"precommit\": \"npm run lint\",\n\t\t\"prepublish\": \"npm run build\"\n\t},\n\t\"dependencies\": {\n\t\t\"ansi-html\": \"^0.0.6\",\n\t\t\"autoprefixer\": \"^6.6.0\",\n\t\t\"babel-core\": \"^6.21.0\",\n\t\t\"babel-loader\": \"^6.2.10\",\n\t\t\"babel-plugin-array-includes\": \"^2.0.3\",\n\t\t\"babel-plugin-transform-async-to-generator\": \"^6.16.0\",\n\t\t\"babel-plugin-transform-runtime\": \"^6.15.0\",\n\t\t\"babel-preset-es2015\": \"^6.18.0\",\n\t\t\"babel-preset-stage-2\": \"^6.18.0\",\n\t\t\"chokidar\": \"^1.6.1\",\n\t\t\"co\": \"^4.6.0\",\n\t\t\"cross-spawn\": \"^5.0.1\",\n\t\t\"css-loader\": \"^0.26.1\",\n\t\t\"debug\": \"^2.5.2\",\n\t\t\"es6-object-assign\": \"^1.0.3\",\n\t\t\"es6-promise\": \"^4.0.5\",\n\t\t\"extract-text-webpack-plugin\": \"2.0.0-beta.4\",\n\t\t\"file-loader\": \"^0.9.0\",\n\t\t\"fs-extra\": \"^1.0.0\",\n\t\t\"glob\": \"^7.1.1\",\n\t\t\"hash-sum\": \"^1.0.2\",\n\t\t\"html-minifier\": \"^3.2.3\",\n\t\t\"lodash\": \"^4.17.3\",\n\t\t\"lru-cache\": \"^4.0.2\",\n\t\t\"memory-fs\": \"^0.4.1\",\n\t\t\"path-to-regexp\": \"^1.7.0\",\n\t\t\"pify\": \"^2.3.0\",\n\t\t\"serialize-javascript\": \"^1.3.0\",\n\t\t\"serve-static\": \"^1.11.1\",\n\t\t\"url-loader\": \"^0.5.7\",\n\t\t\"vue\": \"^2.1.7\",\n\t\t\"vue-loader\": \"^10.0.2\",\n\t\t\"vue-meta\": \"^0.5.3\",\n\t\t\"vue-router\": \"^2.1.1\",\n\t\t\"vue-server-renderer\": \"^2.1.7\",\n\t\t\"vue-template-compiler\": \"^2.1.7\",\n\t\t\"vuex\": \"^2.1.1\",\n\t\t\"webpack\": \"2.2.0-rc.2\",\n\t\t\"webpack-dev-middleware\": \"^1.9.0\",\n\t\t\"webpack-hot-middleware\": \"^2.14.0\"\n\t},\n\t\"devDependencies\": {\n\t\t\"ava\": \"^0.17.0\",\n\t\t\"babel-eslint\": \"^7.1.1\",\n\t\t\"codecov\": \"^1.0.1\",\n\t\t\"copy-webpack-plugin\": \"^4.0.1\",\n\t\t\"eslint\": \"^3.10.2\",\n\t\t\"eslint-config-standard\": \"^6.2.1\",\n\t\t\"eslint-plugin-html\": \"^1.7.0\",\n\t\t\"eslint-plugin-promise\": \"^3.4.0\",\n\t\t\"eslint-plugin-standard\": \"^2.0.1\",\n\t\t\"finalhandler\": \"^0.5.1\",\n\t\t\"jsdom\": \"^9.8.3\",\n\t\t\"json-loader\": \"^0.5.4\",\n\t\t\"nyc\": \"^10.0.0\",\n\t\t\"request\": \"^2.79.0\",\n\t\t\"request-promise-native\": \"^1.0.3\",\n\t\t\"webpack-node-externals\": \"^1.5.4\"\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 28\n// module chunks = 0","module.exports = require(\"autoprefixer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"autoprefixer\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/array/from\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/array/from\"\n// module id = 30\n// module chunks = 0","module.exports = require(\"chokidar\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chokidar\"\n// module id = 31\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"glob\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"glob\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"hash-sum\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"hash-sum\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"html-minifier\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"html-minifier\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"jsdom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsdom\"\n// module id = 37\n// module chunks = 0","module.exports = require(\"lru-cache\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lru-cache\"\n// module id = 38\n// module chunks = 0","module.exports = require(\"memory-fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"memory-fs\"\n// module id = 39\n// module chunks = 0","module.exports = require(\"path-to-regexp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path-to-regexp\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"vue-server-renderer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue-server-renderer\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"webpack-hot-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-hot-middleware\"\n// module id = 43\n// module chunks = 0","const _ = require('lodash')\nconst co = require('co')\nconst fs = require('fs-extra')\nconst pify = require('pify')\nconst ansiHTML = require('ansi-html')\nconst serialize = require('serialize-javascript')\nconst Server = require('./server')\nconst build = require('./build')\nconst render = require('./render')\nconst generate = require('./generate')\nconst serveStatic = require('serve-static')\nconst { resolve, join } = require('path')\nconst { encodeHtml, setAnsiColors } = require('./utils')\nsetAnsiColors(ansiHTML)\n\nclass Nuxt {\n\n  constructor (options = {}) {\n    var defaults = {\n      // special options\n      _renderer: true,\n      _build: true,\n      // general options\n      dev: true,\n      env: {},\n      head: {},\n      plugins: [],\n      css: [],\n      cache: false,\n      loading: {\n        color: 'black',\n        failedColor: 'red',\n        height: '2px',\n        duration: 5000\n      },\n      transition: {\n        name: 'page',\n        mode: 'out-in'\n      },\n      router: {\n        base: '/',\n        linkActiveClass: 'nuxt-link-active'\n      },\n      build: {}\n    }\n    if (options.loading === true) delete options.loading\n    if (typeof options.transition === 'string') options.transition = { name: options.transition }\n    this.options = _.defaultsDeep(options, defaults)\n    // Env variables\n    this.dev = this.options.dev\n    this.dir = (typeof options.rootDir === 'string' && options.rootDir ? options.rootDir : process.cwd())\n    this.srcDir = (typeof options.srcDir === 'string' && options.srcDir ? resolve(this.dir, options.srcDir) : this.dir)\n    // If store defined, update store options to true\n    if (fs.existsSync(join(this.srcDir, 'store', 'index.js'))) {\n      this.options.store = true\n    }\n    // Template\n    this.appTemplate = _.template(fs.readFileSync(resolve(__dirname, 'views', 'app.html'), 'utf8'), {\n      imports: { serialize }\n    })\n    this.errorTemplate = _.template(fs.readFileSync(resolve(__dirname, 'views', 'error.html'), 'utf8'), {\n      imports: { ansiHTML, encodeHtml }\n    })\n    // renderer used by Vue.js (via createBundleRenderer)\n    this.renderer = null\n    // For serving static/ files to /\n    this.serveStatic = pify(serveStatic(resolve(this.srcDir, 'static')))\n    // For serving .nuxt/dist/ files\n    this._nuxtRegexp = /^\\/_nuxt\\//\n    this.serveStaticNuxt = pify(serveStatic(resolve(this.dir, '.nuxt', 'dist')))\n    // Add this.Server Class\n    this.Server = Server\n    // Add this.build\n    build.options.call(this) // Add build options\n    this.build = () => co(build.build.bind(this))\n    // Add this.render and this.renderRoute\n    this.render = render.render.bind(this)\n    this.renderRoute = render.renderRoute.bind(this)\n    this.renderAndGetWindow = render.renderAndGetWindow.bind(this)\n    // Add this.generate\n    this.generate = generate.bind(this)\n    return this\n  }\n\n  close (callback) {\n    let promises = []\n    /* istanbul ignore if */\n    if (this.webpackDevMiddleware) {\n      const p = new Promise((resolve, reject) => {\n        this.webpackDevMiddleware.close(() => resolve())\n      })\n      promises.push(p)\n    }\n    /* istanbul ignore if */\n    if (this.webpackServerWatcher) {\n      const p = new Promise((resolve, reject) => {\n        this.webpackServerWatcher.close(() => resolve())\n      })\n      promises.push(p)\n    }\n    /* istanbul ignore if */\n    if (this.pagesFilesWatcher) {\n      this.pagesFilesWatcher.close()\n    }\n    return co(function * () {\n      yield promises\n    })\n    .then(function () {\n      if (typeof callback === 'function') callback()\n    })\n  }\n\n}\n\nmodule.exports = Nuxt\n\n\n\n// WEBPACK FOOTER //\n// ./lib/nuxt.js"],"sourceRoot":""}